
<div class="page-wrapper addmembershippackage adminlist">
    <div class="blockmaininner">
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12 col-md-12 adminlistmessageblock">
                <!--<div *ngFor="let item1 of messages">-->
                <!--<p *ngIf="typeof(messages)!='undefined' " class="bg-success">{{messages.message}}.</p>-->
                <div [innerHtml]="messages"></div>
                <!--<p class="bg-warning">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                <p class="bg-danger">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>-->
                <!-- </div>-->
            </div>
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12 col-md-12 bannerlistblock">
                <div class="adminlistblock">
                    <div class="adminlistheader">
                        <h2><span>Car</span> listing</h2>
                        <div class="addbtnwrapper">
                            <a [routerLink]="['/addcar']"><button class="addbtn" type="button" value="Add package">Add Car</button></a>
                        </div>
                    </div>
                    <div class="adminlistlists" >
                        <div class="searchbox" ><input [(ngModel)]="query" placeholder="Search "></div>
                        <div class=" table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Doc type <b [ngClass]="getSortClass('doctype')" (click)="manageSorting('doctype')" ></b></th>
                                    <th>Image</th>
                                    <th>Auction Name<b [ngClass]="getSortClass('odometer')" (click)="manageSorting('odometer')" ></b></th>
                                    <th>Retail value<b [ngClass]="getSortClass('est_retail_value')" (click)="manageSorting('est_retail_value')" ></b></th>
                                    <th>Color<b [ngClass]="getSortClass('color')" (click)="manageSorting('color')" ></b></th>

                                    <th>Notes<b [ngClass]="getSortClass('notes')" (click)="manageSorting('notes')" ></b></th>
                                    <th>Priority <b [ngClass]="getSortClass('priority')" (click)="manageSorting('priority')" ></b></th>
                                    <th>Status<b [ngClass]="getSortClass('is_active')" (click)="manageSorting('is_active')" ></b></th>

                                    <th>Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr  *ngFor="let item of data|filter:query|orderBy:orderbyquery:orderbytype|paginate: { itemsPerPage: 10, currentPage: p };trackBy:cartrackby">
                                    <td>{{item.doctype}}</td>
                                    <td><div *ngIf="filesrc" class="imgfilesrc"><img *ngIf="item.filename" src="{{filesrc}}{{item.filename}}"></div></td>
                                    <td>{{item.auctiondata[0].name}}

                                        <div *ngIf="filesrc" class="imgfilesrc"><img *ngIf="item.auctiondata[0].filename" src="{{filesrc}}{{item.auctiondata[0].filename}}"></div>
                                       <!-- <div> count:{{item.auctionid.length}}</div>
                                        <div> id:{{item._id}}</div>-->
                                    </td>

                                    <td>$ {{item.est_retail_value}}</td>
                                    <td>{{item.color}}</td>

                                    <td ><div class="panel-body" [innerHTML]="_sanitizer.bypassSecurityTrustHtml(item.notes)"></div></td>
                                    <td>{{item.priority}}</td>
                                    <td> <div class="actionbtns">
                                        <a href="javascript:void(0)">
                                            <button  [ngClass]="{'btninactive':item.is_active===1, 'btndelete': item.is_active!==1 }" (click)="changeStatus(item)"> {{(item.is_active==1) ? 'Active' : 'Blocked'}}</button>
                                        </a>
                                    </div>
                                    </td>


                                    <td>
                                        <div class="actionbtns">
                                            <a [routerLink]="['/editcar', item._id]"><button class="btnedit" type="button" value="Edit">Edit</button></a>
                                            <a><button class="btndelete" type="button" (click)="deleterow(item)"  value="Delete">Delete</button></a>
                                        </div>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 paginationwrapper">
                <span>Page {{p}} of {{pagec}}</span> <pagination-controls (pageChange)="p = $event" style="display: inline-block"></pagination-controls>
            </div>
        </div>
        <!-- /.row -->

    </div>
</div>
<!-- /#page-wrapper -->

